use super::pseudomoves;
use super::pseudomoves::rook_moves;
use super::BitBoard;

const ROOK_SEED: [BitBoard; 64] = [
    0x0050020428000230,
    0x23000C80400004A0,
    0x8030010086000090,
    0x0028002022A00028,
    0x8050028010500041,
    0x8030018800C80030,
    0x00300060003000C0,
    0x8050040850000960,
    0x580028010114000A,
    0x10000C0086000300,
    0x1800080402010008,
    0x0C120002848A0001,
    0x0080300180009021,
    0x00801800C0180060,
    0x1580680068080011,
    0x8300180030640018,
    0x00300018010C0003,
    0x0706000C00830004,
    0x1941000804020008,
    0x5004002002002004,
    0x640E004002004004,
    0x220A001000410010,
    0x8288004001000080,
    0x00001200003C0009,
    0x4140200010080010,
    0x8010040008020008,
    0x1042010008040008,
    0x9020020020040021,
    0x0040010020020020,
    0x00C0008020092020,
    0x4260400040008001,
    0x202FC00040000080,
    0x0800091800300030,
    0x3004000800100011,
    0x0200400880410010,
    0x80E0200400200200,
    0xB480200100200200,
    0x94A0200080200100,
    0x3000200480200040,
    0x0054802000200040,
    0x0400020A14002800,
    0x0300030086000C00,
    0x2400400840804200,
    0x0300002049801800,
    0x2010009001803003,
    0x1200004001004002,
    0x442000100800A804,
    0x5108000D90005802,
    0x000100022C008058,
    0x4C00068880110020,
    0x1080030040488018,
    0xA980200200040020,
    0x20104000310D8040,
    0x0440500010208050,
    0x0440000810580050,
    0x2107000002280028,
    0x080004802010411A,
    0x3300010180086C41,
    0x08200000C05D0501,
    0x08904000081003E2,
    0x020200004501428A,
    0xA000000403700802,
    0x040C000448008402,
    0x2042000829028842,
];

const BISHOP_SEED: [BitBoard; 64] = [
    0x1C10004100408005,
    0x000060C012000C04,
    0x0000304829001002,
    0x80005014028802C0,
    0x10003C0503004801,
    0x4006008008000011,
    0x4010054040014100,
    0x0000201002010040,
    0x100501002A900008,
    0x2300180200C00805,
    0x101000A0A0140281,
    0x2508A00210010C10,
    0x800C003C01400814,
    0x000188007C002000,
    0x4500041008010010,
    0x000000210240C048,
    0x0020001004010040,
    0x0140080020202002,
    0x0000088010102008,
    0x4000085080200448,
    0x8020200180500029,
    0x04500200400802C0,
    0x0A04880100020100,
    0x2002401040020080,
    0x0088000D0701C080,
    0x0243001801818018,
    0x8080008980100400,
    0x00420020280007A0,
    0x0201C00820041001,
    0x4100A02800410500,
    0x0400802000802010,
    0x00081800C4084042,
    0x0100008017008028,
    0x2400002843402014,
    0x00100200100200A4,
    0x0060004010010010,
    0x6000802002008008,
    0x0341829024000608,
    0x0320601803001094,
    0x0600483001803018,
    0x2220004051230010,
    0x0000001480410008,
    0x0220A02010002800,
    0x000C800840300018,
    0x40810300C00C0012,
    0x0248040080020020,
    0x0110020080200100,
    0x4000104003081401,
    0x00000020150080A4,
    0x0A00200020800908,
    0xE44B04000C001020,
    0x000A080000800EC1,
    0x0003200020000BE0,
    0x0420001280100400,
    0x0000008080280560,
    0x20000100400400B0,
    0x9010000C000B0013,
    0x020880020005800C,
    0x0061002010410028,
    0x6004100090080060,
    0x000803000045000C,
    0x4808000141020014,
    0x024C004041004001,
    0x8100401840102001,
];

const ROOK_XRAY_SEED: [BitBoard; 64] = [
    0x9208029202000400,
    0x00200010000800A4,
    0x0040100040080004,
    0x0040080102400400,
    0x0040040040020001,
    0x0020008020010202,
    0x0040010000800040,
    0x12000185C106001C,
    0x0100081020410400,
    0x4100100008040010,
    0x0000080402010008,
    0x4088800410800208,
    0x8200200200010020,
    0x3000200100008020,
    0x0800202000800040,
    0x0A00200020004081,
    0x0140002000100028,
    0x4804001000080010,
    0x4001000804020008,
    0x0144002002002004,
    0x0002001001008010,
    0x0401002000802001,
    0x0140040002A52810,
    0x8441802000400020,
    0x1140200010080011,
    0x8010040008020009,
    0x00000400100200F0,
    0x0200040020200200,
    0x50A0010020020020,
    0x4000008020010020,
    0x1100008020200040,
    0x8003800020004020,
    0x0840001000200024,
    0x0600080400100010,
    0x2000400880410010,
    0x2480200200200400,
    0x4802008040080008,
    0x0820200080200100,
    0x8080200080200040,
    0x4109802000200040,
    0x0440201004000806,
    0x5010080102000400,
    0x2100084040804201,
    0x0440020004002020,
    0x0060020001002020,
    0x0850010000802020,
    0x0810400080004001,
    0x0000420088004204,
    0x4840001000200020,
    0x0004001000080010,
    0x1100080401020008,
    0x0080040020020020,
    0x0040010020020020,
    0x4008200100008020,
    0x4400200040008020,
    0x4081802000400020,
    0x0080000D01183A91,
    0x4000801165000841,
    0x8041000822400411,
    0x0840100420400802,
    0x000C20003C100802,
    0xB00C002310080402,
    0x3A00033800804402,
    0x0A800010E404894A,
];

const BISHOP_XRAY_SEED: [BitBoard; 64] = [
    0x0000440020404001,
    0x00004010041C0149,
    0x4000091040040003,
    0x1012082008140000,
    0x0069041004010200,
    0x00C4820803000108,
    0x0022410410400000,
    0x0040021040020020,
    0x4020A41040400104,
    0x000C004040080020,
    0x8086001010006800,
    0x0D08410004011010,
    0x0008400400200001,
    0x1482000101004200,
    0x0120021040020020,
    0xAA08880210008010,
    0x0800240040404001,
    0x0000041100101002,
    0xC412003000802B00,
    0x1028202904001000,
    0x0402080100820005,
    0x0100100080040101,
    0x40D8021080008020,
    0x0008021120004008,
    0x2040048002002008,
    0x8080800400202004,
    0x0300020004002008,
    0x0000608000088010,
    0x0200200800030100,
    0x9084001010200400,
    0x0000080080202009,
    0x0A08080200002004,
    0x1000058009008020,
    0x8100030010004011,
    0x6080008020004006,
    0x0080004010010030,
    0x8820010040040040,
    0x0420008020010004,
    0x0009000802202001,
    0x2C00100400401002,
    0x4000400200200010,
    0x4200008080104029,
    0x0000080100808400,
    0x20C1406005000800,
    0x0820010020032008,
    0x00400300C0800900,
    0x0000810040090104,
    0x0280080008004002,
    0x1608004010802002,
    0x4300004008410004,
    0x0208801000800C00,
    0x0200000000401000,
    0x0118020680200208,
    0x0000010040024100,
    0x0088020080100400,
    0x8001001020080060,
    0x8000004008410020,
    0x0C08000020084010,
    0x1000030410088008,
    0x0240808800004010,
    0x8000800000802002,
    0x1C00860140601001,
    0x006F020000401002,
    0x1008020080100401,
];

const ROOK_LOOKUP: [[BitBoard; 16384]; 64] = {
    let mut res: [[BitBoard; 16384]; 64] = [[0; 16384]; 64];
    let mut i: i32 = 0;
    while i < 64 {
        res[i as usize] = single_rook_lookup(i);
        i += 1;
    }
    res
};

const fn single_rook_lookup(square: i32) -> [BitBoard; 16384] {
    let res: [BitBoard; 16384] = [0; 16384];
    let mut i = 0;
    let mut squares_bitboard: BitBoard = rook_moves(i, !0);
    let mut squares = [0; 14];
    let mut count = 0;
    while squares_bitboard != 0 {
        let res = squares_bitboard.trailing_zeros() as usize;
        squares_bitboard &= !(1 << squares_bitboard.trailing_zeros());
        squares[count as usize] = res;
        count += 1;
    }
    while i < 16384 {
        let blockers = i += 1;
    }
    res
}
